<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>[02] 输入 URL 到页面加载显示完成的过程 | 叶旭瑶</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.2e040761.css" as="style"><link rel="preload" href="/assets/js/app.a8df1c95.js" as="script"><link rel="preload" href="/assets/js/2.48d09664.js" as="script"><link rel="preload" href="/assets/js/36.c311869c.js" as="script"><link rel="prefetch" href="/assets/js/10.90ae3223.js"><link rel="prefetch" href="/assets/js/11.60747cf8.js"><link rel="prefetch" href="/assets/js/12.78613ebb.js"><link rel="prefetch" href="/assets/js/13.15cefad8.js"><link rel="prefetch" href="/assets/js/14.2706d9af.js"><link rel="prefetch" href="/assets/js/15.4a1534b3.js"><link rel="prefetch" href="/assets/js/16.667b9eec.js"><link rel="prefetch" href="/assets/js/17.2f6f2fb7.js"><link rel="prefetch" href="/assets/js/18.ae0db680.js"><link rel="prefetch" href="/assets/js/19.3a1a9b2b.js"><link rel="prefetch" href="/assets/js/20.b37fd568.js"><link rel="prefetch" href="/assets/js/21.00e571a2.js"><link rel="prefetch" href="/assets/js/22.7113929a.js"><link rel="prefetch" href="/assets/js/23.76749a7b.js"><link rel="prefetch" href="/assets/js/24.d64a7195.js"><link rel="prefetch" href="/assets/js/25.dd0efafa.js"><link rel="prefetch" href="/assets/js/26.b526a833.js"><link rel="prefetch" href="/assets/js/27.0d7e1a2b.js"><link rel="prefetch" href="/assets/js/28.ff5daa9c.js"><link rel="prefetch" href="/assets/js/29.6b832bc1.js"><link rel="prefetch" href="/assets/js/3.dc0eeb90.js"><link rel="prefetch" href="/assets/js/30.9473db5d.js"><link rel="prefetch" href="/assets/js/31.32df4c34.js"><link rel="prefetch" href="/assets/js/32.e34273e7.js"><link rel="prefetch" href="/assets/js/33.4d28e2f8.js"><link rel="prefetch" href="/assets/js/34.e19c3a87.js"><link rel="prefetch" href="/assets/js/35.ae6f54a4.js"><link rel="prefetch" href="/assets/js/37.fe07ec53.js"><link rel="prefetch" href="/assets/js/38.b9b76405.js"><link rel="prefetch" href="/assets/js/39.ce5b3eb6.js"><link rel="prefetch" href="/assets/js/4.52766d3a.js"><link rel="prefetch" href="/assets/js/40.c28128a5.js"><link rel="prefetch" href="/assets/js/41.baa5b9df.js"><link rel="prefetch" href="/assets/js/42.e9dd8626.js"><link rel="prefetch" href="/assets/js/43.1870fb99.js"><link rel="prefetch" href="/assets/js/44.5f5cadd9.js"><link rel="prefetch" href="/assets/js/45.6e86d635.js"><link rel="prefetch" href="/assets/js/46.6f9e3d5c.js"><link rel="prefetch" href="/assets/js/47.da89bc26.js"><link rel="prefetch" href="/assets/js/48.29abeeb3.js"><link rel="prefetch" href="/assets/js/49.82a3a29d.js"><link rel="prefetch" href="/assets/js/5.9eccb937.js"><link rel="prefetch" href="/assets/js/50.b2028d20.js"><link rel="prefetch" href="/assets/js/51.9208c15a.js"><link rel="prefetch" href="/assets/js/52.db1c8ad3.js"><link rel="prefetch" href="/assets/js/53.2c6c7978.js"><link rel="prefetch" href="/assets/js/54.4a5fc56a.js"><link rel="prefetch" href="/assets/js/55.43d12619.js"><link rel="prefetch" href="/assets/js/56.f78e78dd.js"><link rel="prefetch" href="/assets/js/57.b92e209e.js"><link rel="prefetch" href="/assets/js/58.6b552921.js"><link rel="prefetch" href="/assets/js/59.90266c96.js"><link rel="prefetch" href="/assets/js/6.710abc21.js"><link rel="prefetch" href="/assets/js/60.fb66ef65.js"><link rel="prefetch" href="/assets/js/61.82cc26c2.js"><link rel="prefetch" href="/assets/js/62.a0a80205.js"><link rel="prefetch" href="/assets/js/63.dda7942d.js"><link rel="prefetch" href="/assets/js/64.0a5e6f5b.js"><link rel="prefetch" href="/assets/js/65.fb8144ce.js"><link rel="prefetch" href="/assets/js/66.8a1226d0.js"><link rel="prefetch" href="/assets/js/67.5b575b21.js"><link rel="prefetch" href="/assets/js/68.f3b6f395.js"><link rel="prefetch" href="/assets/js/69.2c6ce239.js"><link rel="prefetch" href="/assets/js/7.d448298b.js"><link rel="prefetch" href="/assets/js/70.142aeb69.js"><link rel="prefetch" href="/assets/js/71.a3a3c331.js"><link rel="prefetch" href="/assets/js/72.c2f1a26e.js"><link rel="prefetch" href="/assets/js/73.8f72ade2.js"><link rel="prefetch" href="/assets/js/74.69faefcd.js"><link rel="prefetch" href="/assets/js/75.bf491959.js"><link rel="prefetch" href="/assets/js/76.54b30f01.js"><link rel="prefetch" href="/assets/js/77.9b2b976c.js"><link rel="prefetch" href="/assets/js/78.19096d31.js"><link rel="prefetch" href="/assets/js/79.ae5bc63c.js"><link rel="prefetch" href="/assets/js/8.04185565.js"><link rel="prefetch" href="/assets/js/9.30d66b6d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2e040761.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/hero.jpg" alt="叶旭瑶" class="logo"> <span class="site-name can-hide">叶旭瑶</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  导航栏
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow down"></span></button> <button type="button" aria-label="博客" class="mobile-dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/我的学习笔记/" class="nav-link">
  博客总览
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/01-Some前端理念/" class="nav-link">
  01-Some前端理念
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/02-CSS美学/" class="nav-link">
  02-CSS美学
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/03-JavaScript永动机/" class="nav-link">
  03-JavaScript永动机
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/" class="nav-link">
  04-蒂姆·伯纳斯·李Browser
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/05-Plugin成就/" class="nav-link">
  05-Plugin成就
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/06-Vue全家桶精进之路/" class="nav-link">
  06-Vue全家桶精进之路
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/07-计算机常识积累/" class="nav-link">
  07-计算机常识积累
</a></li></ul></div></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  谷歌搜索
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  导航栏
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow down"></span></button> <button type="button" aria-label="博客" class="mobile-dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/我的学习笔记/" class="nav-link">
  博客总览
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/01-Some前端理念/" class="nav-link">
  01-Some前端理念
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/02-CSS美学/" class="nav-link">
  02-CSS美学
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/03-JavaScript永动机/" class="nav-link">
  03-JavaScript永动机
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/" class="nav-link">
  04-蒂姆·伯纳斯·李Browser
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/05-Plugin成就/" class="nav-link">
  05-Plugin成就
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/06-Vue全家桶精进之路/" class="nav-link">
  06-Vue全家桶精进之路
</a></li><li class="dropdown-item"><!----> <a href="/我的学习笔记/07-计算机常识积累/" class="nav-link">
  07-计算机常识积累
</a></li></ul></div></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  谷歌搜索
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/我的学习笔记/01-Some前端理念" class="sidebar-heading clickable"><span>01-Some前端理念</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/我的学习笔记/02-CSS美学" class="sidebar-heading clickable"><span>02-CSS美学</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/我的学习笔记/03-JavaScript永动机" class="sidebar-heading clickable"><span>03-JavaScript永动机</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser" class="sidebar-heading clickable open"><span>04-蒂姆·伯纳斯·李Browser</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[01]markdown格式整理.html" class="sidebar-link">[01]markdown格式整理</a></li><li><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html" class="active sidebar-link">[02]输入URL到页面展示</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#_1-输入-url" class="sidebar-link">1.输入 URL</a></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#_2-dns-解析获得-ip" class="sidebar-link">2.DNS 解析获得 IP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#域名解析过程" class="sidebar-link">域名解析过程</a></li></ul></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#_3-tcp-三次握手" class="sidebar-link">3.TCP 三次握手，</a></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#_4-发送-http-请求" class="sidebar-link">4.发送 HTTP 请求</a></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#_5-响应-http-请求" class="sidebar-link">5.响应 http 请求</a></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#_6-浏览器下载响应" class="sidebar-link">6.浏览器下载响应</a></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#_7-页面加载" class="sidebar-link">7.页面加载</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#重排与重绘的区别" class="sidebar-link">重排与重绘的区别</a></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#重排-reflow" class="sidebar-link" style="padding-left:3rem;">重排(Reflow)</a></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#重绘-repaint" class="sidebar-link" style="padding-left:3rem;">重绘(Repaint)</a></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#引发重排" class="sidebar-link" style="padding-left:3rem;">引发重排</a></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#优化-减少重排" class="sidebar-link" style="padding-left:3rem;">优化（减少重排）</a></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#浏览器自身优化" class="sidebar-link" style="padding-left:4rem;">浏览器自身优化</a></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#人为减少重绘重排" class="sidebar-link" style="padding-left:4rem;">人为减少重绘重排</a></li></ul></li><li class="sidebar-sub-header"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[02]输入URL到页面展示.html#_8-连接结束" class="sidebar-link">8.连接结束</a></li></ul></li><li><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[03]XMLHttpRequest请求与AJAX封装.html" class="sidebar-link">[03]XMLHttpRequest请求与AJAX封装</a></li><li><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[04]请求响应头与JSONP前后端分离.html" class="sidebar-link">[04]请求响应头与JSONP前后端分离</a></li><li><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[05]Cookie与浏览器HTTP缓存控制.html" class="sidebar-link">[05]Cookie与浏览器HTTP缓存控制</a></li><li><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[06]Session服务器缓存.html" class="sidebar-link">[06]Session服务器缓存</a></li><li><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[07]LocalStorage与SessionStorage的使用.html" class="sidebar-link">[07]LocalStorage与SessionStorage的使用</a></li><li><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[08]JWT实现token验证.html" class="sidebar-link">[08]JWT实现token验证</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/我的学习笔记/05-Plugin成就" class="sidebar-heading clickable"><span>05-Plugin成就</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/我的学习笔记/06-Vue全家桶精进之路" class="sidebar-heading clickable"><span>06-Vue全家桶精进之路</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/我的学习笔记/07-计算机常识积累" class="sidebar-heading clickable"><span>07-计算机常识积累</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_02-输入-url-到页面加载显示完成的过程"><a href="#_02-输入-url-到页面加载显示完成的过程" class="header-anchor">#</a> [02] 输入 URL 到页面加载显示完成的过程</h1> <p><em>2021 年 1 月 20 日</em></p> <hr> <p></p><div class="table-of-contents"><ul><li><a href="#_02-输入-url-到页面加载显示完成的过程">[02] 输入 URL 到页面加载显示完成的过程</a></li><li><a href="#输入-url-到页面加载显示完成的过程">输入 URL 到页面加载显示完成的过程</a><ul><li><a href="#_1-输入-url">1.输入 URL</a></li><li><a href="#_2-dns-解析获得-ip">2.DNS 解析获得 IP</a><ul><li><a href="#域名解析过程">域名解析过程</a></li></ul></li><li><a href="#_3-tcp-三次握手">3.TCP 三次握手，</a></li><li><a href="#_4-发送-http-请求">4.发送 HTTP 请求</a></li><li><a href="#_5-响应-http-请求">5.响应 http 请求</a></li><li><a href="#_6-浏览器下载响应">6.浏览器下载响应</a></li><li><a href="#_7-页面加载">7.页面加载</a><ul><li><a href="#重排与重绘的区别">重排与重绘的区别</a><ul><li><a href="#重排-reflow">重排(Reflow)</a></li><li><a href="#重绘-repaint">重绘(Repaint)</a></li><li><a href="#引发重排">引发重排</a></li><li><a href="#优化-减少重排">优化（减少重排）</a></li></ul></li></ul></li><li><a href="#_8-连接结束">8.连接结束</a></li></ul></li><li><a href="#关于浏览器加载网页预加载流程">关于浏览器加载网页预加载流程</a></li><li><a href="#"></a></li></ul></div><p></p> <p>著名前端面试题：
一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？</p> <h1 id="输入-url-到页面加载显示完成的过程"><a href="#输入-url-到页面加载显示完成的过程" class="header-anchor">#</a> 输入 URL 到页面加载显示完成的过程</h1> <h2 id="_1-输入-url"><a href="#_1-输入-url" class="header-anchor">#</a> 1.输入 URL</h2> <p>统一资源标识符（Uniform Resource Identifier，URI)确定唯一互联网资源。分为以下两类:</p> <ul><li>统一资源定位符（Uniform Resource Locator，URL）确定唯一资源地址。</li> <li>统一资源名称（Uniform Resource Name，URN）确定唯一资源名称。</li></ul> <h2 id="_2-dns-解析获得-ip"><a href="#_2-dns-解析获得-ip" class="header-anchor">#</a> 2.DNS 解析获得 IP</h2> <p><strong>进行 DNS 域名解析 获得服务器的 IP 地址</strong></p> <ul><li>每台计算机的本机 IP 都是 127.0.0.1（即 localhost）</li> <li>域名系统（Domain Name System，DNS），将域名和 IP 地址相互映射的一个分布式数据库。DNS 运行在 TCP 和 UDP 协议之上，是应用层协议，使用端口号 53。域名使用户更方便访问互联网，不用去记 IP 数串。</li> <li>通过域名(主机名)，最终得到该主机名对应的 IP 地址的过程叫做域名解析（或主机名解析）。</li></ul> <h3 id="域名解析过程"><a href="#域名解析过程" class="header-anchor">#</a> 域名解析过程</h3> <ol><li>检查自己本地的 hosts 文件</li></ol> <ul><li>在浏览器中输入域名，操作系统会先检查自己本地的 hosts 文件是否有这个网址映射关系，如果有就优先先调用这个 IP 地址映射，完成域名解析。</li> <li>可以通过修改<code>/etc/hosts</code> 文件人为配置 IP 和主机名。hosts 文件具有最高优先级。</li></ul> <ol start="2"><li>查找本地 DNS 缓存</li></ol> <ul><li>浏览器缓存：浏览器会按照一定的频率缓存 DNS 记录。</li> <li>操作系统缓存：如果浏览器缓存中找不到需要的 DNS 记录，那就去操作系统中找。</li> <li>路由缓存：路由器也有 DNS 缓存。</li></ul> <ol start="3"><li>找 DNS 服务器</li></ol> <ul><li>DNS 服务器级别划分：
<ul><li>根 DNS 服务器：</li> <li>顶级域 DNS 服务器（com）：</li> <li>权威 DNS 服务器（server . com）：</li> <li>本地域名服务器（查询代理和 DNS 查询结果缓存）: 只是一个查询代理</li></ul></li> <li>优先向本地 DNS 服务器查询：
<ul><li>DNS 服务器查询分为文件查询和缓存查询：
<ul><li>本地 DNS 服务器本地区域文件：此服务器收到查询时，如果要查询的域名，包含在本地配置区域资源中，则返回解析结果给客户机，完成域名解析，此解析具有权威性。</li> <li>本地 DNS 服务器本地缓存：ISP DNS 缓存查找，从网络服务商（比如电信）的 DNS 缓存信息中查找。ISP 的 DNS 服务器：ISP 是互联网服务提供商(Internet Service Provider)的简称，ISP 有专门的 DNS 服务器应对 DNS 查询请求。此解析不具有权威性。</li></ul></li> <li>本地 DNS 服务器找不到的话，它就会向根服务器发出请求，进行递归查询。</li></ul></li> <li>次之，向根 DNS 服务器查询：
<ul><li>根据本地 DNS 服务器的设置（是否设置转发器）进行查询。
<ul><li>未用转发模式：本地 DNS 就把请求发至 13 台根 DNS，根 DNS 服务器收到请求后会判断这个域名(.com)是谁来授权管理，并会返回一个负责该顶级域名服务器的一个 IP。</li> <li>转发模式：此 DNS 服务器就会把请求转发至上一级 DNS 服务器，由上一级服务器进行解析，上一级服务器如果不能解析，或找根 DNS 或把转请求转至上上级，以此循环。</li></ul></li></ul></li> <li>不管是本地 DNS 服务器用是是转发，还是根提示，最后都是把结果返回给本地 DNS 服务器，由此 DNS 服务器再返回给客户机。</li> <li>一旦该浏览器收到来自 DNS 的 IP 地址，就可以向该 IP 地址定位的 HTTP 服务器发起 TCP 连接</li></ul> <p>部分参考：<a href="https://www.zhihu.com/question/23042131/answer/66571369" target="_blank" rel="noopener noreferrer">知乎用户 wuxinliulei 对(DNS 解析的过程是什么，求详细的？)的回答<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_3-tcp-三次握手"><a href="#_3-tcp-三次握手" class="header-anchor">#</a> 3.TCP 三次握手，</h2> <p>通信连接的建立需要经历以下三个过程：
<strong>TCP 三次握手，建立 TCP 连接</strong></p> <ol><li>主机(客户端/浏览器) 向服务器发送一个建立连接的请求：您好，我可以连接你吗？</li> <li>服务器接到请求后向客户端发送同意连接的信号：好的，你可以连接我！</li> <li>客户端接到同意连接的信号后，再次向服务器发送了确认信号：那我连接咯！</li></ol> <p>自此，主机与服务器两者建立了连接。
三次握手的过程采用 TCP 协议，保证信息传输的可靠性。
三次握手过程中，若一方收不到确认信号，协议会要求重新发送信号，确保双方都能发送和接收信号。</p> <p>TCP 是有时间有效期的，</p> <h2 id="_4-发送-http-请求"><a href="#_4-发送-http-请求" class="header-anchor">#</a> 4.发送 HTTP 请求</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>1 动词 路径协议/版本
2 Key1: value1
2 Key2: value2
2 Key3: value3
2 Content-Type: application/x-www-form-urlencoded
2 Host: www.baidu.com
2 User-Agent: curl/7.54.0
3
4 要上传的数据
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>实例</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>1 POST /path HTTP/1.1
2 Host: passport.zhihu.com
2 User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, likeGecko) Chrome/67.0.3396.99 Safari/537.36
2 Accept: */*
2 Content-Length: 24
2 Content-Type: application/x-www-form-urlencoded
3
4 username=ff&amp;password=123
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_5-响应-http-请求"><a href="#_5-响应-http-请求" class="header-anchor">#</a> 5.响应 http 请求</h2> <p><strong>服务器响应 http 请求，返回文件（html、js、css、img 等）</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>1 协议/版本号 状态码状态 解释
2 Key1: value1
2 Key2: value2
2 Content-Length: 17931
2 Content-Type: text/html
3
4 要下载的内容
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol><li>状态码(服务器对浏览器说的话):</li></ol> <ul><li>1xx 不常用</li> <li>2xx 表示成功</li> <li>3xx 表示滚吧</li> <li>4xx 客户端出错</li> <li>5xx 服务器出错</li></ul> <ol start="2"><li>第 4 部分：服务器返回给浏览器的文本信息，通常 HTML, CSS, JS, 图片等文件就放在这一部分。</li></ol> <h2 id="_6-浏览器下载响应"><a href="#_6-浏览器下载响应" class="header-anchor">#</a> 6.浏览器下载响应</h2> <p>浏览器接收通过服务器后台处理后返回的字符串；并请求其他的资源。</p> <h2 id="_7-页面加载"><a href="#_7-页面加载" class="header-anchor">#</a> 7.页面加载</h2> <p><strong>浏览器构建生成 DOM 树，将 DOM 树可视化成渲染树，完成页面的显示。</strong></p> <p>进行 html 页面加载、解析、渲染的工作。</p> <ol><li>加载
浏览器对一个 html 页面的加载顺序是从上而下的，并在加载过程并行进行解析渲染处理。在这个过程中遇到 link 标签、image 标签、script 标签时，浏览器会再次向服务器发送请求获取 css 文件、图片资源、js 文件，并执行 js 代码，同步进行加载解析。</li> <li>解析、渲染
解析的过程，其实就是生成解析树，即 dom 树。dom 树是由 dom 元素及属性节点组成，加上 css 解析的样式对象和 js 解析后的动作实现。而渲染，就是将 DOM 树进行可视化表示。下一步就来到了绘制网页的工作阶段。</li> <li>绘制页面
浏览器通过上面步骤计算得到渲染树，是 DOM 树的可视化表示，构建渲染树使页面以正确的顺序绘制出来，遵循一定的渲染规则，经过一系列的渲染工作，实现网站页面的绘制，由此最终完成了页面展示。</li></ol> <h3 id="重排与重绘的区别"><a href="#重排与重绘的区别" class="header-anchor">#</a> 重排与重绘的区别</h3> <p>重绘不一定需要重排（比如颜色的改变），重排必然导致重绘（比如改变网页元素的位置）</p> <h4 id="重排-reflow"><a href="#重排-reflow" class="header-anchor">#</a> 重排(Reflow)</h4> <ul><li>当渲染树的一部分必须更新并且节点的尺寸发生了变化，浏览器会使渲染树中受到影响的部分失效，并重新构造渲染树。</li> <li>DOM 的变化影响了元素的几何属性，浏览器需要重新计算元素的几何属性，同时其他元素的几何属性和位置也会受到影响，浏览器会使渲染树中受到影响的部分失效，并重新构造渲染树，这个过程是重排。</li></ul> <h4 id="重绘-repaint"><a href="#重绘-repaint" class="header-anchor">#</a> 重绘(Repaint)</h4> <p>在一个元素的外观被改变所触发的浏览器行为，浏览器会根据元素的新属性重新绘制，使元素呈现新的外观。比如改变某个元素的背景色、文字颜色、边框颜色等等。
浏览器会重新绘制受到影响的部分到屏幕，这个过程叫重绘。</p> <h4 id="引发重排"><a href="#引发重排" class="header-anchor">#</a> 引发重排</h4> <ol><li>添加、删除可见的 dom</li> <li>元素的位置改变</li> <li>元素的尺寸改变(外边距、内边距、边框厚度、宽高、等几何属性)</li> <li>页面渲染初始化</li> <li>浏览器窗口尺寸改变</li> <li>获取某些属性。当获取一些属性时，浏览器为取得正确的值也会触发重排,它会导致队列刷新，这些属性包括：offsetTop、offsetLeft、 offsetWidth、offsetHeight、scrollTop、scrollLeft、scrollWidth、scrollHeight、clientTop、clientLeft、clientWidth、clientHeight、getComputedStyle() (currentStyle in IE)。所以，在多次使用这些值时应进行缓存。</li></ol> <h4 id="优化-减少重排"><a href="#优化-减少重排" class="header-anchor">#</a> 优化（减少重排）</h4> <h5 id="浏览器自身优化"><a href="#浏览器自身优化" class="header-anchor">#</a> 浏览器自身优化</h5> <p>浏览器会把所有会引起重排、重绘的操作放入到 1 个队列中，等队列中的操作到一定数量或一定时间间隔，浏览器就会 flush 队列，进行一批处理。
这样多次重排、重绘变成一次重排重绘。</p> <h5 id="人为减少重绘重排"><a href="#人为减少重绘重排" class="header-anchor">#</a> 人为减少重绘重排</h5> <ol><li>修改 DOM 的样式————换成————先定义好 css 的 class，然后修改 DOM 的 className。</li> <li>不要把 DOM 结点的属性值放在一个循环里当成循环里的变量。</li> <li>HTML 动画元素先设定好位置(fixed 或 absoult 的 position)，再修改他们的 CSS 就不会重排的。</li> <li>千万不要使用 table 布局。一个小改动会造成整个 table 的重新布局。</li> <li>不要在布局信息改变的时候做查询（会导致渲染队列强制刷新）</li></ol> <p>总结：减少 DOM 操作，div 能改内容就改内容 ，减少移除重新插入。</p> <h2 id="_8-连接结束"><a href="#_8-连接结束" class="header-anchor">#</a> 8.连接结束</h2> <ul><li>主机向服务器发送一个断开连接的请求（不早了，我该走了）；</li> <li>服务器接到请求后发送确认收到请求的信号（知道了）；</li> <li>服务器向主机发送断开通知（我也该走了）；</li> <li>主机接到断开通知后断开连接并反馈一个确认信号（嗯，好的），服务器收到确认信号后断开连接。</li></ul> <h1 id="关于浏览器加载网页预加载流程"><a href="#关于浏览器加载网页预加载流程" class="header-anchor">#</a> 关于浏览器加载网页预加载流程</h1> <ul><li>见<a href="/我的学习笔记/01-Some前端理念/[03]前端性能优化.html#浏览器是如何加载网页">[03]前端性能优化</a></li></ul> <h1 id=""><a href="#" class="header-anchor">#</a></h1> <hr> <p><em>Copyright © 2020 - 2021 by 叶旭瑶 . All Rights Reserved .</em></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[01]markdown格式整理.html" class="prev">
        [01]markdown格式整理
      </a></span> <span class="next"><a href="/我的学习笔记/04-蒂姆·伯纳斯·李Browser/[03]XMLHttpRequest请求与AJAX封装.html">
        [03]XMLHttpRequest请求与AJAX封装
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a8df1c95.js" defer></script><script src="/assets/js/2.48d09664.js" defer></script><script src="/assets/js/36.c311869c.js" defer></script>
  </body>
</html>
